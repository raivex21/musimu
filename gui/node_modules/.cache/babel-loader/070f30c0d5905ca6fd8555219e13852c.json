{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const taskSlice = createSlice({\n  name: \"task\",\n  initialState: {\n    taskList: [],\n    task: {},\n    loading: false,\n    error: null,\n    complete: null\n  },\n  reducers: {\n    getTaskListStart: state => {\n      state.loading = true;\n      state.error = null;\n    },\n    getTaskListSuccess: (state, action) => {\n      state.taskList = action.payload;\n      state.error = null;\n      state.loading = false;\n    },\n    getTaskListFail: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    getTaskStart: state => {\n      state.loading = true;\n      state.error = null;\n    },\n    getTaskSuccess: (state, action) => {\n      state.task = action.payload;\n      state.error = null;\n      state.loading = false;\n    },\n    getTaskFail: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    createTaskStart: state => {\n      state.loading = true;\n      state.error = null;\n    },\n    createTaskSuccess: state => {\n      state.loading = false;\n      state.error = null;\n    },\n    createTaskFail: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    saveTaskProgress: (state, payload) => {\n      state.complete = action.payload;\n    }\n  }\n});\nexport const {\n  getTaskFail,\n  getTaskListFail,\n  getTaskListStart,\n  getTaskListSuccess,\n  getTaskSuccess,\n  getTaskStart,\n  createTaskFail,\n  createTaskSuccess,\n  createTaskStart,\n  saveTaskProgress\n} = taskSlice.actions;\nexport const getTaskList = token => {\n  return dispatch => {\n    dispatch(getTaskListStart());\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios.get(process.env.REACT_APP_AXIOS_URL + \"/api/tasks/\").then(res => {\n      dispatch(getTaskListSuccess(res.data));\n    }).catch(err => {\n      dispatch(getTaskListFail(err.message));\n    });\n  };\n};\nexport const getTask = (token, id) => {\n  return dispatch => {\n    dispatch(getTaskStart());\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios.get(`${process.env.REACT_APP_AXIOS_URL}/api/tasks/${id}`).then(res => {\n      dispatch(getTaskSuccess(res.data));\n    }).catch(err => {\n      dispatch(getTaskFail(err.message));\n    });\n  };\n};\nexport const createTask = (token, formData) => {\n  return dispatch => {\n    dispatch(createTaskStart());\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios.post(`${process.env.REACT_APP_AXIOS_URL}/api/tasks/`, formData).then(res => {\n      dispatch(createTaskSuccess(res.data));\n      dispatch(getTaskList(token));\n    }).catch(err => {\n      dispatch(createTaskFail(err.message));\n    });\n  };\n};\nexport const progress = complete => {\n  return dispatch => {\n    dispatch(saveTaskProgress(complete));\n  };\n};\nexport default taskSlice.reducer;","map":{"version":3,"sources":["C:/Users/Raivex/Desktop/THESIS/musimu/gui/src/features/taskSlice.js"],"names":["createSlice","axios","taskSlice","name","initialState","taskList","task","loading","error","complete","reducers","getTaskListStart","state","getTaskListSuccess","action","payload","getTaskListFail","getTaskStart","getTaskSuccess","getTaskFail","createTaskStart","createTaskSuccess","createTaskFail","saveTaskProgress","actions","getTaskList","token","dispatch","defaults","headers","Authorization","get","process","env","REACT_APP_AXIOS_URL","then","res","data","catch","err","message","getTask","id","createTask","formData","post","progress","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const taskSlice = createSlice({\r\n  name: \"task\",\r\n  initialState: {\r\n    taskList: [],\r\n    task: {},\r\n    loading: false,\r\n    error: null,\r\n    complete: null,\r\n  },\r\n  reducers: {\r\n    getTaskListStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    getTaskListSuccess: (state, action) => {\r\n      state.taskList = action.payload;\r\n      state.error = null;\r\n      state.loading = false;\r\n    },\r\n    getTaskListFail: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n    getTaskStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    getTaskSuccess: (state, action) => {\r\n      state.task = action.payload;\r\n      state.error = null;\r\n      state.loading = false;\r\n    },\r\n    getTaskFail: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n    createTaskStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    createTaskSuccess: (state) => {\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    createTaskFail: (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.payload;\r\n    },\r\n    saveTaskProgress: (state, payload) => {\r\n      state.complete = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  getTaskFail,\r\n  getTaskListFail,\r\n  getTaskListStart,\r\n  getTaskListSuccess,\r\n  getTaskSuccess,\r\n  getTaskStart,\r\n  createTaskFail,\r\n  createTaskSuccess,\r\n  createTaskStart,\r\n  saveTaskProgress,\r\n} = taskSlice.actions;\r\n\r\nexport const getTaskList = (token) => {\r\n  return (dispatch) => {\r\n    dispatch(getTaskListStart());\r\n    axios.defaults.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Token ${token}`,\r\n    };\r\n\r\n    axios\r\n      .get(process.env.REACT_APP_AXIOS_URL + \"/api/tasks/\")\r\n      .then((res) => {\r\n        dispatch(getTaskListSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(getTaskListFail(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport const getTask = (token, id) => {\r\n  return (dispatch) => {\r\n    dispatch(getTaskStart());\r\n    axios.defaults.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Token ${token}`,\r\n    };\r\n    axios\r\n      .get(`${process.env.REACT_APP_AXIOS_URL}/api/tasks/${id}`)\r\n      .then((res) => {\r\n        dispatch(getTaskSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(getTaskFail(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport const createTask = (token, formData) => {\r\n  return (dispatch) => {\r\n    dispatch(createTaskStart());\r\n    axios.defaults.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Token ${token}`,\r\n    };\r\n    axios\r\n      .post(`${process.env.REACT_APP_AXIOS_URL}/api/tasks/`, formData)\r\n      .then((res) => {\r\n        dispatch(createTaskSuccess(res.data));\r\n        dispatch(getTaskList(token));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(createTaskFail(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport const progress = (complete) => {\r\n  return (dispatch) => {\r\n    dispatch(saveTaskProgress(complete));\r\n  };\r\n};\r\n\r\nexport default taskSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}