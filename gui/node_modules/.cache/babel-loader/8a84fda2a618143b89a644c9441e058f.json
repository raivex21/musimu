{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const lessonSlice = createSlice({\n  name: \"grade\",\n  initialState: {\n    lessonList: [],\n    currentLesson: {},\n    error: null,\n    loading: false\n  },\n  reducers: {\n    getLessonListStart: state => {\n      state.loading = true;\n      state.error = null;\n    },\n    getLessonListSuccess: (state, action) => {\n      state.lessonList = action.payload;\n      state.error = null;\n      state.loading = false;\n    },\n    getLessonListFail: (state, action) => {\n      state.error = action.payload;\n      state.loading = null;\n    },\n    getCurrentLessonStart: state => {\n      state.loading = true;\n      state.error = null;\n    },\n    getCurrentLessonSuccess: (state, action) => {\n      state.currentLesson = action.payload;\n      state.loading = false;\n      state.error = null;\n    },\n    getCurrentLessonFail: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    createLessonStart: state => {\n      state.loading = true;\n      state.error = null;\n    },\n    createLessonSuccess: state => {\n      state.loading = false;\n      state.error = null;\n    },\n    createLessonFail: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    }\n  }\n});\nexport const {\n  getCurrentLessonFail,\n  getCurrentLessonStart,\n  getCurrentLessonSuccess,\n  getLessonListSuccess,\n  getLessonListFail,\n  getLessonListStart,\n  createLessonStart,\n  createLessonFail,\n  createLessonSuccess\n} = lessonSlice.actions;\nexport const getLessonList = token => {\n  return dispatch => {\n    dispatch(getLessonListStart());\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios.get(process.env.REACT_APP_AXIOS_URL + \"/api/lessons\").then(res => {\n      dispatch(getLessonListSuccess(res.data));\n    }).catch(err => {\n      dispatch(getLessonListFail(err.message));\n    });\n  };\n};\nexport const getCurrentLesson = (token, id) => {\n  return dispatch => {\n    dispatch(getCurrentLessonStart());\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios.get(`${process.env.REACT_APP_AXIOS_URL}/api/lessons/${id}/`).then(res => {\n      dispatch(getCurrentLessonSuccess(res.data));\n    }).catch(err => {\n      dispatch(getCurrentLessonFail(err.message));\n    });\n  };\n};\nexport const createLesson = (token, formData) => {\n  return dispatch => {\n    dispatch(createLessonStart());\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios.get(`${process.env.REACT_APP_AXIOS_URL}/api/lessons/${id}/`).then(res => {\n      dispatch(createLessonSuccess(res.data));\n    }).catch(err => {\n      dispatch(createLessonFail(err.message));\n    });\n  };\n};\nexport default lessonSlice.reducer;","map":{"version":3,"sources":["C:/Users/Raivex/Desktop/THESIS/musimu/gui/src/features/lesson.js"],"names":["createSlice","axios","lessonSlice","name","initialState","lessonList","currentLesson","error","loading","reducers","getLessonListStart","state","getLessonListSuccess","action","payload","getLessonListFail","getCurrentLessonStart","getCurrentLessonSuccess","getCurrentLessonFail","createLessonStart","createLessonSuccess","createLessonFail","actions","getLessonList","token","dispatch","defaults","headers","Authorization","get","process","env","REACT_APP_AXIOS_URL","then","res","data","catch","err","message","getCurrentLesson","id","createLesson","formData","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const lessonSlice = createSlice({\r\n  name: \"grade\",\r\n  initialState: {\r\n    lessonList: [],\r\n    currentLesson: {},\r\n    error: null,\r\n    loading: false,\r\n  },\r\n  reducers: {\r\n    getLessonListStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    getLessonListSuccess: (state, action) => {\r\n      state.lessonList = action.payload;\r\n      state.error = null;\r\n      state.loading = false;\r\n    },\r\n    getLessonListFail: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = null;\r\n    },\r\n    getCurrentLessonStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    getCurrentLessonSuccess: (state, action) => {\r\n      state.currentLesson = action.payload;\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    getCurrentLessonFail: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n    createLessonStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    createLessonSuccess: (state) => {\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    createLessonFail: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  getCurrentLessonFail,\r\n  getCurrentLessonStart,\r\n  getCurrentLessonSuccess,\r\n  getLessonListSuccess,\r\n  getLessonListFail,\r\n  getLessonListStart,\r\n  createLessonStart,\r\n  createLessonFail,\r\n  createLessonSuccess,\r\n} = lessonSlice.actions;\r\n\r\nexport const getLessonList = (token) => {\r\n  return (dispatch) => {\r\n    dispatch(getLessonListStart());\r\n    axios.defaults.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Token ${token}`,\r\n    };\r\n    axios\r\n      .get(process.env.REACT_APP_AXIOS_URL + \"/api/lessons\")\r\n      .then((res) => {\r\n        dispatch(getLessonListSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(getLessonListFail(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport const getCurrentLesson = (token, id) => {\r\n  return (dispatch) => {\r\n    dispatch(getCurrentLessonStart());\r\n    axios.defaults.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Token ${token}`,\r\n    };\r\n    axios\r\n      .get(`${process.env.REACT_APP_AXIOS_URL}/api/lessons/${id}/`)\r\n      .then((res) => {\r\n        dispatch(getCurrentLessonSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(getCurrentLessonFail(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport const createLesson = (token, formData) => {\r\n  return (dispatch) => {\r\n    dispatch(createLessonStart());\r\n    axios.defaults.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Token ${token}`,\r\n    };\r\n    axios\r\n      .get(`${process.env.REACT_APP_AXIOS_URL}/api/lessons/${id}/`)\r\n      .then((res) => {\r\n        dispatch(createLessonSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(createLessonFail(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport default lessonSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}