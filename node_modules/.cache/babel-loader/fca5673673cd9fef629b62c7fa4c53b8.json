{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const taskSlice = createSlice({\n  name: \"task\",\n  initialState: {\n    taskList: [],\n    task: {},\n    loading: false,\n    error: null\n  },\n  reducers: {\n    getTaskListStart: state => {\n      state.loading = true;\n      state.error = null;\n    },\n    getTaskListSuccess: (state, action) => {\n      state.taskList = action.payload;\n      state.error = null;\n      state.loading = false;\n    },\n    getTaskListFail: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    getTaskStart: () => {\n      state.loading = true;\n      state.error = null;\n    },\n    getTaskSuccess: () => {\n      state.task = action.payload;\n      state.error = null;\n      state.loading = false;\n    },\n    getTaskFail: () => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    createTaskStart: state => {\n      state.loading = true;\n      state.error = null;\n    },\n    createTaskSuccess: state => {\n      state.loading = false;\n      state.error = null;\n    },\n    createTaskFail: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }\n  }\n});\nexport const {\n  getTaskFail,\n  getTaskListFail,\n  getTaskListStart,\n  getTaskListSuccess,\n  getTaskSuccess,\n  getTaskStart\n} = taskSlice.actions;\nexport const getTaskList = token => {\n  return dispatch => {\n    dispatch(getTaskListStart());\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios.get(process.env.REACT_APP_AXIOS_URL + \"/api/tasks/\").then(res => {\n      dispatch(getTaskListSuccess(res.data));\n    }).catch(err => {\n      dispatch(getTaskListFail(err.message));\n    });\n  };\n};\nexport const getTask = (token, id) => {\n  return dispatch => {\n    dispatch(getTaskStart());\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios.get(`${process.env.REACT_APP_AXIOS_URL}/api/tasks/${id}`).then(res => {\n      dispatch(getTaskSuccess(res.data));\n    }).catch(err => {\n      dispatch(getTaskFail(err.message));\n    });\n  };\n};\nexport const createTask = (token, formData) => {\n  return dispatch => {\n    dispatch(createTaskStart());\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios.post(`${process.env.REACT_APP_AXIOS_URL}/api/tasks/`, formData).then(res => {\n      dispatch(createTaskSuccess(res.data));\n      dispatch(getTaskList(token));\n    }).catch(err => {\n      dispatch(createTaskFail(err.message));\n    });\n  };\n};\nexport default taskSlice.reducer;","map":{"version":3,"sources":["C:/Users/Raivex/Documents/React/Project/gui/src/features/taskSlice.js"],"names":["createSlice","axios","taskSlice","name","initialState","taskList","task","loading","error","reducers","getTaskListStart","state","getTaskListSuccess","action","payload","getTaskListFail","getTaskStart","getTaskSuccess","getTaskFail","createTaskStart","createTaskSuccess","createTaskFail","actions","getTaskList","token","dispatch","defaults","headers","Authorization","get","process","env","REACT_APP_AXIOS_URL","then","res","data","catch","err","message","getTask","id","createTask","formData","post","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const taskSlice = createSlice({\r\n  name: \"task\",\r\n  initialState: {\r\n    taskList: [],\r\n    task: {},\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  reducers: {\r\n    getTaskListStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    getTaskListSuccess: (state, action) => {\r\n      state.taskList = action.payload;\r\n      state.error = null;\r\n      state.loading = false;\r\n    },\r\n    getTaskListFail: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n    getTaskStart: () => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    getTaskSuccess: () => {\r\n      state.task = action.payload;\r\n      state.error = null;\r\n      state.loading = false;\r\n    },\r\n    getTaskFail: () => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n    createTaskStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    createTaskSuccess: (state) => {\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    createTaskFail: (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  getTaskFail,\r\n  getTaskListFail,\r\n  getTaskListStart,\r\n  getTaskListSuccess,\r\n  getTaskSuccess,\r\n  getTaskStart,\r\n} = taskSlice.actions;\r\n\r\nexport const getTaskList = (token) => {\r\n  return (dispatch) => {\r\n    dispatch(getTaskListStart());\r\n    axios.defaults.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Token ${token}`,\r\n    };\r\n\r\n    axios\r\n      .get(process.env.REACT_APP_AXIOS_URL + \"/api/tasks/\")\r\n      .then((res) => {\r\n        dispatch(getTaskListSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(getTaskListFail(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport const getTask = (token, id) => {\r\n  return (dispatch) => {\r\n    dispatch(getTaskStart());\r\n    axios.defaults.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Token ${token}`,\r\n    };\r\n    axios\r\n      .get(`${process.env.REACT_APP_AXIOS_URL}/api/tasks/${id}`)\r\n      .then((res) => {\r\n        dispatch(getTaskSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(getTaskFail(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport const createTask = (token, formData) => {\r\n  return (dispatch) => {\r\n    dispatch(createTaskStart());\r\n    axios.defaults.headers = {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Token ${token}`,\r\n    };\r\n    axios\r\n      .post(`${process.env.REACT_APP_AXIOS_URL}/api/tasks/`, formData)\r\n      .then((res) => {\r\n        dispatch(createTaskSuccess(res.data));\r\n        dispatch(getTaskList(token));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(createTaskFail(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport default taskSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}